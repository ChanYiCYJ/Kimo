{% extends "layout.html" %}

{% block content %}
  <!-- List Header -->
  {% if pageId == 1 %}
  <div class=" flex items-center justify-between">
    <h2 class="text-sm font-medium text-gray-800">
      最近文章
    </h2>
    <a href="?page=2"
  class="text-sm font-medium text-gray-800 justify-end
         cursor-pointer select-none
         transition
         duration-150
         ease-out
         hover:text-black
         active:scale-95
         active:text-gray-600
         hover:translate-x-0.5">
  更多文章 →
  </a>
  </div>
  {% endif %}
  

  <!-- Posts -->
  {% if posts %}
    <div class="space-y-5">
      {% for post in posts %}
        {% include "components/postCard.html" %}
      {% endfor %}
    </div>
  {% else %}
    <div class="text-center text-gray-400 py-20 text-sm">
      暂无内容
    </div>
  {% endif %}
{% if pageId != 1 %}
<nav class="bg-white/80 backdrop-blur rounded-xl shadow-sm p-6 flex justify-center mt-12">
  <ul class="flex items-center gap-2 text-sm select-none">

    <!-- 上一页 -->
    {% if pageId > 1 %}
    <li>
      <a href="?page={{ pageId - 1 }}"
         class="px-3 py-1.5 rounded-xl border
                text-gray-600
                transition-all duration-200
                hover:bg-gray-100 hover:-translate-y-0.5
                active:translate-y-0">
        ← 上一页
      </a>
    </li>
    {% endif %}

    <!-- 页码 -->
    {% for p in range(1, total_pages + 1) %}
    <li>
      <a href="?page={{ p }}"
         class="
           min-w-[2.25rem] text-center
           px-3 py-1.5 rounded-xl border
           transition-all duration-200
           {% if p == pageId %}
             bg-gray
             scale-110 shadow-md
             pointer-events-none
           {% else %}
             text-gray-600
             hover:bg-gray-100 hover:-translate-y-0.5
           {% endif %}
         ">
        {{ p }}
      </a>
    </li>
    {% endfor %}

    <!-- 下一页 -->
    {% if pageId < total_pages %}
    <li>
      <a href="?page={{ pageId + 1 }}"
         class="px-3 py-1.5 rounded-xl border
                text-gray-600
                transition-all duration-200
                hover:bg-gray-100 hover:-translate-y-0.5
                active:translate-y-0">
        下一页 →
      </a>
    </li>
    {% endif %}

  </ul>
</nav>
{% endif %}

{% endblock %}
