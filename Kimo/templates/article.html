{% extends "layout.html" %}

{% block head %}
<title>{{ article.title }} - {{ config.title }}</title>

<style>
  :root{
    --max-article-width: 72ch;
    --card-radius: 1rem;
  }

  .article-body {
    font-size: 18px; /* 修正：原来是 10px，导致字体很小 */
    line-height: 1.9;
    background: #fffef8;
    border-radius: 12px;
  }

  /* 图片轻微悬浮效果 */
  .markdown-body img {
    cursor: zoom-in;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .markdown-body img:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 24px rgba(16,24,40,0.08);
  }

  /* 代码块 / 图片圆角 */
  .prose pre {
    border-radius: 1rem;
    overflow: auto;
  }
  .prose img {
    border-radius: 1rem;
  }

  /* 卡片统一圆角 */
  .bg-white.rounded-3xl {
    border-radius: var(--card-radius);
  }
</style>
{% endblock %}

{% block header %}
<header class="sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-gray-200">
  <div class="max-w-6xl mx-auto px-4 h-14 flex items-center">
    <a href="/" class="text-gray-500 text-sm hover:text-blue-500">
      ← 返回
    </a>
  </div>
</header>
{% endblock %}

{% block content %}
<!-- ===== 文章主体 ===== -->
<article class="md:col-span-2 bg-white rounded-3xl shadow-sm p-4 sm:p-6">

  <!-- 封面 -->
  {% if article.cover_image %}
  <div
    class="
      w-full
      rounded-2xl
      overflow-hidden
      bg-gray-100
      transition-transform duration-300
      h-64 md:h-96
    "
  >
    <img
      src="{{ article.cover_image }}"
      class="w-full h-full object-cover transition-transform duration-300"
    />
  </div>
  {% endif %}

  <h1 class="ml-2 mt-3 text-3xl mb-2">
    {{ article.title }}
  </h1>

  {% if article.category_name %}
  <span class="ml-2 mt-2 inline-block px-4 py-1 rounded-full border text-sm">
    {{ article.category_name }}
  </span>
  {% endif %}

  <span class="ml-2 mt-2 inline-block px-4 py-1 rounded-full border text-sm">
    {{ page_subtitle }}
  </span>

  <div class="mt-5 border-t border-gray-200"></div>

  <!-- 正文 -->
  <div class="flex justify-center">
    <div class="w-full max-w-3xl">
      <div
        class="article-body markdown-body prose prose-2xl prose-slate
               prose-headings:font-semibold
               prose-p:leading-9
               prose-p:text-lg
               prose-a:text-blue-600
               prose-code:bg-gray-100 prose-code:px-1 prose-code:rounded
               prose-pre:bg-gray-900 prose-pre:text-gray-100
               prose-img:shadow
               max-w-none mt-6"
      >
        {{ content | safe }}
      </div>
    </div>
  </div>

</article>
{% endblock %}

{% block footer %}
{% endblock %}

{% block script %}
<!-- 本页无 JS -->
{% endblock %}
